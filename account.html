<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Account â€” 33Giri</title>
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body class="page-offset-top" style="--bg:#e8dfd5">
  <!-- Header injected -->
  <header id="header" class="site-header"></header>

  <main class="wrap" style="min-height:60vh; padding-top:36px; padding-bottom:48px;">
    <h1 style="margin-bottom:12px;">Il tuo account</h1>

    <!-- Sezione autenticazione -->
    <section id="authSection" style="display:grid; gap:20px; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); align-items:start;">
      <!-- Login -->
      <div style="background:#f7f3ef; border-radius:12px; padding:20px; box-shadow:0 2px 12px rgba(0,0,0,0.06);">
        <h2 style="margin-top:0;">Accedi</h2>
        <form id="loginForm">
          <div class="form-group">
            <label for="loginEmail">Email</label>
            <input id="loginEmail" type="email" class="form-input" required placeholder="nome@example.com" />
          </div>
          <div class="form-group">
            <label for="loginPassword">Password</label>
            <input id="loginPassword" type="password" class="form-input" required />
          </div>
          <button type="submit" class="btn btn-primary">Accedi</button>
        </form>
      </div>

      <!-- Registrazione -->
      <div style="background:#f7f3ef; border-radius:12px; padding:20px; box-shadow:0 2px 12px rgba(0,0,0,0.06);">
        <h2 style="margin-top:0;">Registrati</h2>
        <form id="registerForm">
          <div class="form-group">
            <label for="regEmail">Email</label>
            <input id="regEmail" type="email" class="form-input" required placeholder="nome@example.com" />
          </div>
          <div class="form-group">
            <label for="regPassword">Password</label>
            <input id="regPassword" type="password" class="form-input" required minlength="6" />
          </div>
          <div class="form-group">
            <label for="regPassword2">Ripeti password</label>
            <input id="regPassword2" type="password" class="form-input" required minlength="6" />
          </div>
          <button type="submit" class="btn">Crea account</button>
        </form>
      </div>
    </section>

    <!-- Sezione area utente -->
    <section id="accountSection" style="display:none; margin-top:22px;">
      <div style="display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:12px;">
        <h2 style="margin:0;">Ciao, <span id="userEmail"></span></h2>
        <button id="logoutBtn" class="btn btn-ghost">Esci</button>
      </div>

      <div style="display:grid; gap:20px; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); align-items:start;">
        <!-- Preferiti -->
        <div style="background:#f7f3ef; border-radius:12px; padding:20px; box-shadow:0 2px 12px rgba(0,0,0,0.06);">
          <h3 style="margin-top:0;">Preferiti</h3>
          <form id="newFavoriteForm" style="display:grid; gap:10px; margin-bottom:12px;">
            <input type="text" id="favTitle" class="form-input" placeholder="Titolo oggetto" required />
            <input type="url" id="favImage" class="form-input" placeholder="URL immagine (opzionale)" />
            <button class="btn" type="submit">Aggiungi ai preferiti</button>
          </form>
          <ul id="favoritesList" style="list-style:none; padding:0; margin:0; display:grid; gap:10px;"></ul>
        </div>

        <!-- Liste -->
        <div style="background:#f7f3ef; border-radius:12px; padding:20px; box-shadow:0 2px 12px rgba(0,0,0,0.06);">
          <h3 style="margin-top:0;">Liste</h3>
          <form id="newListForm" style="display:flex; gap:8px; margin-bottom:12px;">
            <input type="text" id="listName" class="form-input" placeholder="Nome lista (es. Regali, Splash)" required />
            <button class="btn" type="submit">Crea lista</button>
          </form>
          <div id="listsContainer" style="display:grid; gap:12px;"></div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer injected -->
  <footer id="footer" class="site-footer"></footer>

  <script src="assets/js/layout.js"></script>
  <!-- EmailJS SDK for client-side email sending -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script src="assets/js/account.js"></script>
  <script src="assets/js/main.js"></script>
</body>
</html>
